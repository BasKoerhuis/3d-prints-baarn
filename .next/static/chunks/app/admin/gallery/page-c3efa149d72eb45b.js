(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{3770:function(e,t,a){Promise.resolve().then(a.bind(a,6928))},6928:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(1920),r=a(7029),l=a(7437),n=a(2265),i=a(7993);let c=(0,i.Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var o=a(1482);let d=(0,i.Z)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),h=(0,i.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);function m(){let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(!0),[m,p]=(0,n.useState)(!1),[u,x]=(0,n.useState)(null),[g,f]=(0,n.useState)({alt:"",tags:""}),[j,v]=(0,n.useState)([]),[b,y]=(0,n.useState)(!1);(0,n.useEffect)(()=>{N()},[]);let N=async()=>{try{let e=await fetch("/api/gallery"),a=await e.json();t(a.data||[])}catch(e){console.error("Error:",e)}finally{i(!1)}},k=e=>{if(!e)return;let t=[];Array.from(e).forEach(e=>{if(e.type.startsWith("image/")){let a=URL.createObjectURL(e);t.push({file:e,preview:a,alt:e.name.replace(/\.[^/.]+$/,""),tags:""})}}),v(e=>[...e,...t])},w=e=>{v(t=>{let a=[...t];return URL.revokeObjectURL(a[e].preview),a.splice(e,1),a})},C=(e,t,a)=>{v(s=>{let r=[...s];return r[e][t]=a,r})},E=async()=>{if(0!==j.length){p(!0);try{for(let e of j){let t=new FormData;if(t.append("files",e.file),t.append("alt",e.alt),t.append("tags",e.tags),!(await fetch("/api/gallery",{method:"POST",body:t})).ok)throw Error("Upload failed for ".concat(e.file.name))}j.forEach(e=>URL.revokeObjectURL(e.preview)),v([]),await N(),alert("Alle foto's succesvol ge\xfcpload!")}catch(e){console.error("Upload error:",e),alert("Er ging iets mis bij het uploaden")}finally{p(!1)}}},U=e=>{x(e),f({alt:e.alt,tags:e.tags.join(", ")})},_=async()=>{if(u)try{(await fetch("/api/gallery/".concat(u.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({alt:g.alt,tags:g.tags.split(",").map(e=>e.trim()).filter(e=>e)})})).ok&&(N(),x(null))}catch(e){alert("Er ging iets mis")}},L=async e=>{if(confirm("Weet je zeker dat je deze afbeelding wilt verwijderen?"))try{(await fetch("/api/gallery/".concat(e),{method:"DELETE"})).ok&&N()}catch(e){alert("Er ging iets mis")}};return a?(0,l.jsx)("div",{className:"text-center py-12",children:(0,l.jsx)("div",{className:"spinner mx-auto"})}):(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Galerij Beheren"}),(0,l.jsxs)("div",{className:"card p-6 mb-8",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Foto's Uploaden"}),(0,l.jsx)("div",{onDragOver:e=>{e.preventDefault(),y(!0)},onDragLeave:e=>{e.preventDefault(),y(!1)},onDrop:e=>{e.preventDefault(),y(!1),k(e.dataTransfer.files)},className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(b?"border-[var(--accent-color)] bg-blue-50":"border-gray-300 hover:border-gray-400"),children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(c,{className:"w-16 h-16 mx-auto text-gray-400"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-lg font-medium",children:"Sleep foto's hierheen"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"of"})]}),(0,l.jsxs)("label",{className:"btn-primary inline-block cursor-pointer",children:["Selecteer Bestanden",(0,l.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>k(e.target.files),className:"hidden"})]})]})}),j.length>0&&(0,l.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,l.jsxs)("h3",{className:"font-semibold",children:["Te uploaden foto's (",j.length,")"]}),(0,l.jsx)("div",{className:"space-y-3",children:j.map((e,t)=>(0,l.jsxs)("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,l.jsx)("img",{src:e.preview,alt:"Preview",className:"w-24 h-24 object-cover rounded"}),(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,l.jsx)("input",{type:"text",placeholder:"Beschrijving (bijv. Minecraft Creeper)",value:e.alt,onChange:e=>C(t,"alt",e.target.value),className:"input text-sm"}),(0,l.jsx)("input",{type:"text",placeholder:"Tags (komma gescheiden, bijv. minecraft, creeper)",value:e.tags,onChange:e=>C(t,"tags",e.target.value),className:"input text-sm"})]}),(0,l.jsx)("button",{onClick:()=>w(t),className:"text-red-600 hover:text-red-800 p-2",title:"Verwijderen",children:(0,l.jsx)(o.Z,{className:"w-5 h-5"})})]},t))}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:E,disabled:m,className:"btn-primary",children:m?"Uploaden...":"Upload ".concat(j.length," foto").concat(j.length>1?"'s":"")}),(0,l.jsx)("button",{onClick:()=>{j.forEach(e=>URL.revokeObjectURL(e.preview)),v([])},className:"btn-secondary",children:"Alles Annuleren"})]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(e=>(0,l.jsxs)("div",{className:"card overflow-hidden",children:[(0,l.jsx)("div",{className:"aspect-square bg-gray-100",children:(0,l.jsx)("img",{src:e.path,alt:e.alt,className:"w-full h-full object-cover"})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("p",{className:"text-sm text-gray-800 mb-1 font-medium truncate",children:e.alt}),e.tags.length>0&&(0,l.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:e.tags.join(", ")}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)("button",{onClick:()=>U(e),className:"text-sm text-[var(--accent-color)] hover:underline inline-flex items-center gap-1",children:[(0,l.jsx)(d,{className:"w-3.5 h-3.5"}),"Bewerken"]}),(0,l.jsxs)("button",{onClick:()=>L(e.id),className:"text-sm text-red-600 hover:underline inline-flex items-center gap-1",children:[(0,l.jsx)(h,{className:"w-3.5 h-3.5"}),"Verwijderen"]})]})]})]},e.id))}),0===e.length&&(0,l.jsx)("div",{className:"text-center py-12 text-gray-600",children:(0,l.jsx)("p",{children:"Nog geen afbeeldingen in de galerij. Upload je eerste foto's hierboven."})}),u&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"card max-w-2xl w-full p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Foto Bewerken"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)("img",{src:u.path,alt:u.alt,className:"w-full max-h-64 object-contain bg-gray-100 rounded"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Beschrijving"}),(0,l.jsx)("input",{type:"text",value:g.alt,onChange:e=>f((0,r._)((0,s._)({},g),{alt:e.target.value})),className:"input"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tags (komma gescheiden)"}),(0,l.jsx)("input",{type:"text",value:g.tags,onChange:e=>f((0,r._)((0,s._)({},g),{tags:e.target.value})),className:"input",placeholder:"bijv. minecraft, creeper, figuur"})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:_,className:"btn-primary",children:"Opslaan"}),(0,l.jsx)("button",{onClick:()=>x(null),className:"btn-secondary",children:"Annuleren"})]})]})]})})]})}},7993:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var s=a(1920),r=a(3090),l=a(2265);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),c=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var h=a(7029),m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,l.forwardRef)((e,t)=>{var{color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:p="",children:u,iconNode:x}=e,g=(0,r._)(e,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return(0,l.createElement)("svg",(0,s._)((0,h._)((0,s._)({ref:t},m),{width:n,height:n,stroke:a,strokeWidth:c?24*Number(i)/Number(n):i,className:o("lucide",p)}),!u&&!d(g)&&{"aria-hidden":"true"},g),[...x.map(e=>{let[t,a]=e;return(0,l.createElement)(t,a)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let a=(0,l.forwardRef)((a,i)=>{var{className:d}=a,h=(0,r._)(a,["className"]);return(0,l.createElement)(p,(0,s._)({ref:i,iconNode:t,className:o("lucide-".concat(n(c(e))),"lucide-".concat(e),d)},h))});return a.displayName=c(e),a}},1482:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(7993).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[971,23,744],function(){return e(e.s=3770)}),_N_E=e.O()}]);