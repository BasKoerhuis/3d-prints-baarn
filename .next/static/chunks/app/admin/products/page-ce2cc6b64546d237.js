(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{4705:function(e,t,s){Promise.resolve().then(s.bind(s,8077))},8077:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(1920),r=s(7029),i=s(7437),l=s(2265),n=s(7993);let c=(0,n.Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),o=(0,n.Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var d=s(1482);let m=(0,n.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),h=(0,n.Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function u(){let[e,t]=(0,l.useState)([]),[s,n]=(0,l.useState)([]),[u,x]=(0,l.useState)(!0),[p,g]=(0,l.useState)(null),[j,b]=(0,l.useState)(!1),[f,N]=(0,l.useState)(!1),[v,y]=(0,l.useState)({name:"",shortDescription:"",longDescription:"",dimensions:"",features:"",priceChild:"",priceAdult:"",inStock:!0,images:[]});(0,l.useEffect)(()=>{k(),w()},[]);let k=async()=>{try{let e=await fetch("/api/products"),s=await e.json();t(s.data||[])}catch(e){console.error("Error:",e)}finally{x(!1)}},w=async()=>{try{let e=await fetch("/api/gallery"),t=await e.json();n(t.data||[])}catch(e){console.error("Error fetching gallery:",e)}},C=async e=>{e.preventDefault();let t=(0,r._)((0,a._)({},v),{features:v.features.split("\n").filter(e=>e.trim()),priceChild:parseFloat(v.priceChild),priceAdult:parseFloat(v.priceAdult),images:v.images});try{let e=p?"/api/products/".concat(p.id):"/api/products";(await fetch(e,{method:p?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(k(),A())}catch(e){alert("Er ging iets mis")}},_=e=>{g(e),y({name:e.name,shortDescription:e.shortDescription,longDescription:e.longDescription,dimensions:e.dimensions,features:e.features.join("\n"),priceChild:e.priceChild.toString(),priceAdult:e.priceAdult.toString(),inStock:e.inStock,images:e.images||[]}),b(!0)},S=async e=>{if(confirm("Weet je zeker dat je dit product wilt verwijderen?"))try{(await fetch("/api/products/".concat(e),{method:"DELETE"})).ok&&k()}catch(e){alert("Er ging iets mis")}},A=()=>{y({name:"",shortDescription:"",longDescription:"",dimensions:"",features:"",priceChild:"",priceAdult:"",inStock:!0,images:[]}),g(null),b(!1)},D=e=>{v.images.includes(e)||y((0,r._)((0,a._)({},v),{images:[...v.images,e]}))},E=e=>{let t=[...v.images];t.splice(e,1),y((0,r._)((0,a._)({},v),{images:t}))},P=(e,t)=>{let s=[...v.images],i="up"===t?e-1:e+1;i<0||i>=s.length||([s[e],s[i]]=[s[i],s[e]],y((0,r._)((0,a._)({},v),{images:s})))};return u?(0,i.jsx)("div",{className:"text-center py-12",children:(0,i.jsx)("div",{className:"spinner mx-auto"})}):(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold",children:"Producten Beheren"}),(0,i.jsx)("button",{onClick:()=>b(!j),className:"btn-primary",children:j?"Annuleren":"+ Nieuw Product"})]}),j&&(0,i.jsxs)("div",{className:"card p-6 mb-8",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-6",children:p?"Product Bewerken":"Nieuw Product"}),(0,i.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Product Foto's"}),(0,i.jsxs)("div",{className:"space-y-3",children:[v.images.length>0&&(0,i.jsx)("div",{className:"grid grid-cols-4 gap-3",children:v.images.map((e,t)=>(0,i.jsxs)("div",{className:"relative group",children:[(0,i.jsx)("img",{src:e,alt:"Product foto ".concat(t+1),className:"w-full h-32 object-cover rounded border-2 border-gray-200"}),(0,i.jsxs)("div",{className:"absolute top-1 right-1 flex gap-1",children:[t>0&&(0,i.jsx)("button",{type:"button",onClick:()=>P(t,"up"),className:"bg-white rounded p-1.5 shadow hover:bg-gray-100 transition-colors",title:"Naar links",children:(0,i.jsx)(c,{className:"w-4 h-4"})}),t<v.images.length-1&&(0,i.jsx)("button",{type:"button",onClick:()=>P(t,"down"),className:"bg-white rounded p-1.5 shadow hover:bg-gray-100 transition-colors",title:"Naar rechts",children:(0,i.jsx)(o,{className:"w-4 h-4"})}),(0,i.jsx)("button",{type:"button",onClick:()=>E(t),className:"bg-red-500 text-white rounded p-1.5 shadow hover:bg-red-600 transition-colors",title:"Verwijderen",children:(0,i.jsx)(d.Z,{className:"w-4 h-4"})})]}),(0,i.jsxs)("div",{className:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:["#",t+1]})]},t))}),(0,i.jsxs)("button",{type:"button",onClick:()=>N(!0),className:"btn-secondary inline-flex items-center gap-2",children:[(0,i.jsx)(m,{className:"w-4 h-4"}),"Foto's Toevoegen uit Galerij"]}),0===v.images.length&&(0,i.jsxs)("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[(0,i.jsx)(h,{className:"w-12 h-12 mx-auto text-gray-400 mb-2"}),(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Nog geen foto's toegevoegd. Klik op de knop hierboven om foto's te selecteren."})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"md:col-span-2",children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Productnaam *"}),(0,i.jsx)("input",{type:"text",className:"input",value:v.name,onChange:e=>y((0,r._)((0,a._)({},v),{name:e.target.value})),required:!0})]}),(0,i.jsxs)("div",{className:"md:col-span-2",children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Korte beschrijving *"}),(0,i.jsx)("input",{type:"text",className:"input",value:v.shortDescription,onChange:e=>y((0,r._)((0,a._)({},v),{shortDescription:e.target.value})),required:!0})]}),(0,i.jsxs)("div",{className:"md:col-span-2",children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Lange beschrijving *"}),(0,i.jsx)("textarea",{className:"textarea",rows:4,value:v.longDescription,onChange:e=>y((0,r._)((0,a._)({},v),{longDescription:e.target.value})),required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Afmetingen *"}),(0,i.jsx)("input",{type:"text",className:"input",placeholder:"bijv. 10 x 5 x 3 cm",value:v.dimensions,onChange:e=>y((0,r._)((0,a._)({},v),{dimensions:e.target.value})),required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Kenmerken (1 per regel)"}),(0,i.jsx)("textarea",{className:"textarea",rows:4,value:v.features,onChange:e=>y((0,r._)((0,a._)({},v),{features:e.target.value}))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Kinderprijs (€) *"}),(0,i.jsx)("input",{type:"number",step:"0.01",className:"input",value:v.priceChild,onChange:e=>y((0,r._)((0,a._)({},v),{priceChild:e.target.value})),required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Volwassen prijs (€) *"}),(0,i.jsx)("input",{type:"number",step:"0.01",className:"input",value:v.priceAdult,onChange:e=>y((0,r._)((0,a._)({},v),{priceAdult:e.target.value})),required:!0})]}),(0,i.jsx)("div",{className:"md:col-span-2",children:(0,i.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",checked:v.inStock,onChange:e=>y((0,r._)((0,a._)({},v),{inStock:e.target.checked})),className:"w-5 h-5 text-[var(--accent-color)] rounded"}),(0,i.jsx)("span",{className:"text-sm font-medium",children:"Op voorraad"})]})})]}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)("button",{type:"submit",className:"btn-primary",children:p?"Opslaan":"Product Aanmaken"}),(0,i.jsx)("button",{type:"button",onClick:A,className:"btn-secondary",children:"Annuleren"})]})]})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.map(e=>(0,i.jsx)("div",{className:"card p-6",children:(0,i.jsxs)("div",{className:"flex gap-4",children:[e.images&&e.images.length>0&&(0,i.jsxs)("div",{className:"flex gap-2 overflow-x-auto",children:[e.images.slice(0,3).map((t,s)=>(0,i.jsx)("img",{src:t,alt:e.name,className:"w-20 h-20 object-cover rounded flex-shrink-0"},s)),e.images.length>3&&(0,i.jsxs)("div",{className:"w-20 h-20 bg-gray-100 rounded flex items-center justify-center text-gray-500 text-sm flex-shrink-0",children:["+",e.images.length-3]})]}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.shortDescription}),(0,i.jsxs)("div",{className:"flex gap-4 mt-2 text-sm text-gray-600",children:[(0,i.jsxs)("span",{children:["Kind: €",e.priceChild.toFixed(2)]}),(0,i.jsxs)("span",{children:["Volwassene: €",e.priceAdult.toFixed(2)]}),(0,i.jsx)("span",{className:e.inStock?"text-green-600":"text-red-600",children:e.inStock?"✓ Op voorraad":"✗ Niet op voorraad"}),e.images&&(0,i.jsxs)("span",{className:"text-blue-600",children:[e.images.length," foto's"]})]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("button",{onClick:()=>_(e),className:"btn-ghost",children:"Bewerken"}),(0,i.jsx)("button",{onClick:()=>S(e.id),className:"btn-ghost text-red-600",children:"Verwijderen"})]})]})},e.id))}),0===e.length&&!j&&(0,i.jsx)("div",{className:"text-center py-12 text-gray-600",children:(0,i.jsx)("p",{children:"Nog geen producten. Klik op '+ Nieuw Product' om te beginnen."})}),f&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,i.jsxs)("div",{className:"card max-w-5xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold",children:"Selecteer Foto's uit Galerij"}),(0,i.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,i.jsx)(d.Z,{className:"w-6 h-6"})})]}),0===s.length?(0,i.jsx)("div",{className:"text-center py-8 text-gray-600",children:(0,i.jsx)("p",{children:"Geen foto's in de galerij. Upload eerst foto's via de Galerij pagina."})}):(0,i.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:s.map(e=>{let t=v.images.includes(e.path);return(0,i.jsxs)("button",{type:"button",onClick:()=>D(e.path),className:"relative aspect-square rounded overflow-hidden border-2 transition-all ".concat(t?"border-[var(--accent-color)] ring-2 ring-[var(--accent-color)] ring-opacity-50":"border-gray-200 hover:border-gray-400"),children:[(0,i.jsx)("img",{src:e.path,alt:e.alt,className:"w-full h-full object-cover"}),t&&(0,i.jsx)("div",{className:"absolute top-1 right-1 bg-[var(--accent-color)] text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"✓"})]},e.id)})}),(0,i.jsxs)("div",{className:"mt-6 flex justify-between items-center",children:[(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:[v.images.length," foto",1!==v.images.length?"'s":""," geselecteerd"]}),(0,i.jsx)("button",{onClick:()=>N(!1),className:"btn-primary",children:"Klaar"})]})]})})]})}},7993:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var a=s(1920),r=s(3090),i=s(2265);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),c=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var m=s(7029),h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,i.forwardRef)((e,t)=>{var{color:s="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:u="",children:x,iconNode:p}=e,g=(0,r._)(e,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return(0,i.createElement)("svg",(0,a._)((0,m._)((0,a._)({ref:t},h),{width:l,height:l,stroke:s,strokeWidth:c?24*Number(n)/Number(l):n,className:o("lucide",u)}),!x&&!d(g)&&{"aria-hidden":"true"},g),[...p.map(e=>{let[t,s]=e;return(0,i.createElement)(t,s)}),...Array.isArray(x)?x:[x]])}),x=(e,t)=>{let s=(0,i.forwardRef)((s,n)=>{var{className:d}=s,m=(0,r._)(s,["className"]);return(0,i.createElement)(u,(0,a._)({ref:n,iconNode:t,className:o("lucide-".concat(l(c(e))),"lucide-".concat(e),d)},m))});return s.displayName=c(e),s}},1482:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(7993).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[971,23,744],function(){return e(e.s=4705)}),_N_E=e.O()}]);